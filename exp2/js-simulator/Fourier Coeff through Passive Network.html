<html>
<head>

<link rel="stylesheet" type="text/css" href="Fourier.css">
<link rel="stylesheet" type="text/css" href="demo.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-Knob/1.2.13/jquery.knob.min.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"> </script>

<script src="square wv/squarewave.js"></script>

</head>

<body  id="container"  >
 
<div id="whole_body" style=" position:relative; margin-left:auto; margin-right:auto; top:0px; width:1160px; height:1160px">
<div style="font-size:20px; color:#3344FF;text-align:center; height:100px;position:relative; left:20px"> <b>Estimation of Fourier Coefficients of a Periodic Signal</b></div>

<form name='f1'>
<div id="main_circuit" style="position:relative; left:0px">
<p style="position:relative; top:-60px;left:860px"><b>Main Circuit </b></p>

<!----Main Circuit Image Insertion---->
	<img src="images/Resi.png" alt="Tutorials Point" style="position:absolute; top:-15px;  left:810px;size:20px"/>
	<img src="images/pvo.png" alt="Tutorials Point" style="position:absolute; top:40px;  left:950px;size:20px"/>
	<img src="images/vin.png" alt="Tutorials Point" style="position:absolute; top:40px;  left:700px;size:20px"/>
	<img src="images/grnd.png" alt="Tutorials Point" style="position:absolute; top:180px;  left:850px;size:20px"/>
	<img src="images/swoff.png"  id="onff" onclick="mainswt()" style="position:absolute; top:520px;  left:400px;z-index:1;size:2px"/>
	<p style="position:absolute; left:650px;size:20px"> ch1</p></br></br></br>
	<p style="position:absolute; left:650px;size:20px">ch2</p>
	
	<!---buttons-->
	<input type ="button"  value="TableShow" onclick=" tabled();table2()" style="text-align:center; cursor: pointer; background-color:#158FC2;border-radius:20px; width:90px; height:30px; font-size:15px; position:absolute; top:300px; right:50px;border-shadow:2px">
  <input type ="button" value="Plot" onclick="plot()" style="text-align:center; cursor: pointer; background-color:#15C297;border-radius:20px; width:90px; height:30px; font-size:15px; position:absolute; top:300px; right:-45px;border-shadow:2px">
  <input type ="button" id="clear" value="Clear" onclick="vanish()"disabled="true" style="text-align:center; cursor: pointer; background-color:#8F9292;border-radius:20px; width:90px; height:30px; font-size:15px; position:absolute; top:300px; right:-140px;border-shadow:2px">
	<input type="button" id= "chk_con" value="Check" style="position:absolute; top:250px;  left:870px; background-color:#D60411; border-radius: 10px;box-shadow: 0 2px #999;height:30px; width:80px">
	<input type="button"  id="delete" onclick="deleteconnection()" style="position:absolute; top:250px; width:80px;height:30px; right:100px;background-color:#C2C7C8; border-radius: 10px; box-shadow: 0 2px #999; " value="Delete"/>
	<!--- connecting Dots--->
	<div class="jtk-demo-canvas canvas-wide animation-demo jtk-surface jtk-surface-nopan" id="canvas"> 
	
<div class="bigdot" id="bd1"></br><a href="#" class="cmdLink detach" rel="bd1"style="position:absolute; top:56px;  left:75px;size:20px">1</a> </div>	
<div class="bigdot" id="bd2"></br><a href="#" class="cmdLink detach" rel="bd2"style="position:absolute; top:56px;  left:75px;size:20px" >2</a></div> 
<div class="bigdot" id="bd3"></br><a href="#" class="cmdLink detach" rel="bd3" style="position:absolute; top:56px;  left:75px;size:20px">3</a></div> 
<div class="bigdot" id="bd4"></br><a href="#" class="cmdLink detach" rel="bd4"style="position:absolute; top:56px;  left:75px;size:20px" >4</a></div>
<div class="bigdot" id="bd5"></br><a href="#" class="cmdLink detach" rel="bd5"style="position:absolute; top:56px;  left:75px;size:20px" >5</a></div> 
<div class="bigdot" id="bd6"></br><a href="#" class="cmdLink detach" rel="bd6"style="position:absolute; top:56px;  left:75px;size:20px" >6</a></div> 
<div class="bigdot" id="bd7"></br><a href="#" class="cmdLink detach" rel="bd7"style="position:absolute; top:56px;  left:75px;size:20px" >7</a></div> 
<div class="bigdot" id="bd8"></br><a href="#" class="cmdLink detach" rel="bd8"style="position:absolute; top:60px;  left:65px;size:20px" >8</a></div> 
<div class="bigdot" id="bd9"></br><a href="#" class="cmdLink detach" rel="bd9"style="position:absolute; top:56px;  left:70px;size:20px" >9</a></div> 
<div class="bigdot" id="bd10"></br><a href="#" class="cmdLink detach" rel="bd10"style="position:absolute; top:56px;  left:75px;size:20px" >10</a></div>
</div>

<script src="jsplumb.js"></script>
<script src="demo.js"> </script>	
</div>	<!--- End of Main Circuit-->

<!------ Dropdown Hover Instructions----->
	<div class="dropdown" style="position:relative;top:-180px ">
  <p style="color:#B3061D"><b>INSTRUCTIONS</b></p>
  <div class="dropdown-content" style="color:#025167">
  <ol type="1">
  <li>Connect the circuit elements as mentioned below</br> 1-3 ,3-4 ,5-6, 8-7, 7-9, 10-2(ex:-Drag from 1 and click on 3.)</li>
  
  <li> 3 volt p-p sinusoidal voltage is applied at the input.Put R=100KΩ ,L=10mH, C=100nF.</li>
  
<li>Switch on the oscilloscope by clicking "ON" button & click twice the Sine wave button for input signal & click on the"Output" button to observe the output.Channel & Channel2 button shows the input & output signals respectively. Dual, shows both of them. </li> 

<li>Change the Frequency of input signal by the Frequency knob from 100Hz to 100KHz & observe the corresponding output voltage signal.</li>

<li>Switch off the oscilloscope</li><br/>

<li>Click on Tableshow button each time after clicking on "output" button to see observation eachtime.</li>

<li>Click on Plot button to see the frequency response plot(Gain(dB)vs.Frequency(Hz)).Click on Clear button to clear datas.</li>

 <li>Switch off the oscilloscope.Then again switch on.</li>
 <li>click on square wave button & keep the frequency around 15KHz.click square output to see first harmonic component & click on Tableshow to have the coefficient value</li>
 <li> Repeat the above step for square wave input of frequencies around 5KHz & 3.5KHz to have values of 3rd & 5th harmonic co-efficients respectively.</li>
 <li> Switch off the oscilloscope.</li>
 <li> For above three steps keep L & C values 10 mH-10nF, 1mh-100nF, 0.1mH-1000nF</li> 
  
  </ol>
  </div>
  </div></form><!--- End of Instructions-->
  
  <input type="number" name="R" value="100" min="100" max="1000" step="50"  id="R" style="position:absolute; top:300px;  left:1100px; width:50px;"/>
  <input type="number" name="L" value="10" min="0" max="20" step="0.1"  id="L" style="position:absolute; top:335px;  left:1100px; width:50px"/>
  <input type="number" name="C" value="100" min="0" max="1050" step="10"  id="C" style="position:absolute; top:365px;  left:1100px; width:50px" />
	
  <p style="position:absolute; top:290px;  left:1085px"><b>R</b></p>
  <p style="position:absolute; top:320px;  left:1085px"><b>L</b></p><!--- Input Boxes-->
  <p style="position:absolute; top:350px;  left:1085px"><b>C </b></p>
	
	<p style="position:absolute; top:290px;  left:1160px"><b>KΩ</b></p>
  <p style="position:absolute; top:320px;  left:1160px"><b>mH</b></p><!--Input Box's labels-->
  <p style="position:absolute; top:350px;  left:1160px"><b>nF</b></p>
	
	<!-----Oscilloscope------>
  <div id="oscilo">
  
  <div style="position:absolute; font-size:14px; top:120px;left:0px;  height:50px;background-color:#1F1D1D;  width:200px;font-weight: bold;">
  
  <p style="text-align:center;color:white"> <b> OSCILLOSCOPE</b></p>
  
  <input type="button" id="sinecrv" value="Sine Wave" onclick="drawsine()"  disabled="true" style="position:absolute;left:200px;top:-4px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">
  <input type="button" id="squarecrv" value="Square wave " onclick="drawsqr()"style="position:absolute;left:200px;top:25px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">
  <input type="button" id="rectifiedop2" value="Square Output" onclick="drawsquare()" disabled="true"  style="position:absolute;left:330px;top:-10px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">

  <input type="button" id="rectifiedop" value="Sin Output" onclick="drawhlfrectifier()" disabled="true" style="position:absolute;left:330px;top:10px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">
 <input type="number" id="opvalue" value="0" readonly="readonly" style="width:100px;position:absolute;left:330px;top:35px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;"><label style="position:absolute;top:20px;left:420px">Output(vo)v</label>
 </div>

 <center> <canvas id="mycanvas" width="430" height="350" style="border:1px solid black;position:absolute;top:121px; left:-30px">
   </canvas></center>
   
   
  <!---lower rectangle after oscilloscope--->
  <div class="lowerleftsection">
  <input type="button" id="chhn1" value="Channel 1" onclick="chnlo()" disabled="true" />
  <input type="button" id="chhn2" value="Channel 2" onclick="chnlt()" disabled="true" />
  <input type="button" id="dual" value="Dual" onclick="bthd()"  disabled="true"/>
  <input type="button" id="changer" value="Frequency_Changer" onclick="clicked()" style="position:relative;right:80px;top:150px;width:150px;text-align: center; border-radius: 10px;box-shadow: 0 2px #999;"  />
  
  
  <!-------- Function Generator--->
     <div id= "knob-container-fng">                      <!------frequency-knob-container------------>
                            <div id="frequency-knob-container-fng">
                                <input type="number" id="fq-knob-fng"  value="100" readOnly="false" oninput="freqfng()">
                                <label>Frequency(Hz)</label>
                            </div>

                            <!-----------amplitude-knob-container---------------->
                            <div id="amplitude-knob-container-fng">
                                <input type="number" id="amp-knob-fng" readOnly="false"  value="3" oninput="ampfng()">
                                <label>voltage(Volt)</label>
                            </div>
							
							
														

                        </div>  <!--------------- end of .knob-container-fng----------------------->  
    </div>
  
   <div class="middlerightmiddle">
   <div id="knob-container-amp">
        <!-----------amplitude-knob-container1(volt/div)---------------->
                           
   <div id="amplitude-knob-container1">
   <input type="text" id="amp-knob1" value="1" readOnly="false" oninput="amp1pdiv()">
   <label>Volt(V)/div</label><br>
                 
   </div>
                             
   <!-----------amplitude-knob-container2(volt/div)-------------->
   <div id="amplitude-knob-container2">
   <input type="text" id="amp-knob2"  value="1" readOnly="false" oninput="amp2pdiv()" >
   <label>Volt(V)/div</label>
   </div>
   </div><!--------------- end of .knob-container-amp----------------------->
<input type="range" orient="vertical" id="positiony1" min="-2" max="2" value="0" oninput="posiy1chnge()"  style="cursor:pointer;">  <label id="positnlabely1">Position-Y</label><label id="positnlabelch1"style="position:absolute;top:170px;left:120px">Channel 1</label>
<input type="range" orient="vertical" id="positiony2" min="-2" max="2"  value="0" oninput="posiy2chnge()" style="cursor:pointer;">  <label id="positnlabely2">Position-Y</label><label id="positnlabelch2" style="position:absolute;top:170px;left:320px">Channel 2</label>
<div class="middlerightsectiondivide"></div>
</div><!--End of middle right middle--->
						
						
  <div class="middlerightupper">
                        <input  type="range"  id="positionx" min="-360" max="360" step="90"  value="0" oninput="posix2chnge()"  style="cursor:pointer;">
                        <label id="positnlabelx">Position-X</label>

                        <!-- -----knob---------- -->
                        <div id="knob-container">
                            <!------frequency-knob-container(time(ms)/div)------------>
                            <div id="frequency-knob-container">
                                <input type="text" id="fq-knob"  value="1"  readOnly=false oninput="timepdiv()">
                                <label>Time(ms)/div</label>
                            </div>
                        </div><!--------------- end of .knob-container----------------------->

                    </div> <!--------------- end of .middlerightupper--------------------->
  
 <!------End of Oscilloscope & Function Generator------>
 
 <!--- Table Creation for frequency responce--> 
  <div id="tr1" style="position:absolute;top:470px;left:860px  ">
  <table id="myTable" border="1">
   <tr>
   <th> Sl. No.</th>
   <th>Frequency(Hz)</th>
  <th>Input Voltage</th>
  <th>Output Voltage(V<sub>o</sub>)</th>
  <th>V<sub>o</sub>/V<sub>i</sub></th>
  <th>Gain(dB)</th> 
  </tr>
</table>
  </div>
  
 <!--- Table Creation for fourier coeff--> 
  <div id="tr2" style="display:none;position:absolute;top:470px;left:860px  ">
  <table id="myTable2" border="1">
   <tr>
   <th> Sl. No.</th>
   <th>L(mH)</th>
  <th>C(nF)</th>   
   <th>Frequency(Hz)</th>
  <th>Input Voltage</th>
  <th>Output Voltage(V<sub>o</sub>)</th>
  <th>V<sub>o</sub>/V<sub>i</sub></th>
  <th id="harmonic">Harmonic(a1)</th> 
  </tr>
</table>
  </div> 
  
  
  
  
  
  
  
  
  
  
 <!--- Graph Container-->  
 <div id="chartContainer" style="display:none;position:absolute;top:730px;left:710px;height: 370px; width: 55%;"></div>
  
 </div> 
 <script>
 
 var canvas,ctx;
var flag;
var axes = {};
var vmaxs;  //in volt
var tmaxs; // in msec  0.001; //in sec
var voltperdiv,timeperdiv;

//-----------------------------------------------Oscilliscope on-off function----------------------------------------------------------//
function mainswt() {
    var bttn = document.getElementById('onff').value;
	
	
    if (bttn == "Off") {

        document.getElementById("onff").value = "On";
		var canvas = document.getElementById('mycanvas');
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
		document.getElementById("sinecrv").disabled = true;
        document.getElementById("rectifiedop").disabled = true;
        document.getElementById("chhn1").disabled = true;
        document.getElementById("chhn2").disabled = true;
        document.getElementById("dual").disabled = true;
		document.getElementById("clear").disabled = false;
        document.getElementById('opvalue').value = '0';	
        document.getElementById("onff").src =" images/swoff.png ";
        	
        }
    else {
        document.getElementById("onff").value = "Off";
        document.getElementById("sinecrv").disabled = false;
        document.getElementById("rectifiedop").disabled = true;  
        document.getElementById("chhn1").disabled = true;
        document.getElementById("chhn2").disabled = true;
        document.getElementById("dual").disabled = true; 
		document.getElementById("clear").disabled = true;
		document.getElementById("onff").src =" images/swon.png ";
        drawAxis();
        drawGrid(ctx);

    }
}

function drawAxis() {

    canvas = document.getElementById("mycanvas");
    ctx = canvas.getContext("2d");

   voltperdiv1 = document.getElementById("amp-knob1").value;
   vmaxs1 = parseFloat(voltperdiv1)*4;//volt 
  voltperdiv2 = document.getElementById("amp-knob2").value;
  vmaxs2 = parseFloat(voltperdiv2)*4;//volt 

    axes.x0 = 0.5 + 0.0 * canvas.width;//260.5
    axes.y0 = 0.5 + 0.5 * canvas.height;//175.5
    // axes.scale = 50;
    axes.xscale = (canvas.width) / ( tmaxs); 	// x pix per s//260000
   
    axes.N = 101;
     if(flag==1){
          axes.yscale = (canvas.height) / (2 * vmaxs1);    // y pix per V //87.5
     }
     if(flag==2){
         axes.yscale = (canvas.height) / (2 * vmaxs2);    // y pix per V //87.5
     }
    if(flag==3){
         axes.yscale = (canvas.height) / (2 * vmaxs1);    // y pix per V //87.5
         axes.yscale = (canvas.height) / (2 * vmaxs2);    // y pix per V //87.5
     }
    axes.doNegativeX = true;
    ctx.lineWidth = 0.5;
    ctx.lineWidth = ticklinewidth;
    ctx.strokeStyle = tickcolor;

    drawHorizontalAxis();
    drawVerticalAxis();
    drawVerticalAxisTicks();
    drawHorizontalAxisTicks();
}

function drawGrid(ctx) {

    var w = ctx.canvas.width;
    var h = ctx.canvas.height;
    ctx.beginPath();//added afterwards
    for (var x = 0; x < w; x += 43.5) {
        ctx.moveTo(x, 0);
        ctx.lineTo(x, h);
    }

    for (var y = 0; y < h; y += 44) {
        ctx.moveTo(0, y);
        ctx.lineTo(w, y);
    }
    ctx.strokeStyle = "Gainsboro";
    ctx.stroke();
}

var axismargin = 30,
        axisorigin = {x: 0, y: 0},
        axisright = 520,
        horzntickspcng = 9,
        vrtcltickspcng = 9,
        axiswidth = axisright, //520
        axisheight = axisorigin.y, //350
        numofvrtcltick = axisheight / vrtcltickspcng, //175
        numofhorzntick = axiswidth / horzntickspcng, //57.77777777777778
        tickwidth = 10,
        ticklinewidth = 0.5,
        tickcolor = 'black',
        axislinewidth = 1.0,
        axiscolor = 'lightgray';
//alert(numofvrtcltick);
//------------------------------------------------------Horizontal Axis----------------------------------------------------------------------------------//
function drawHorizontalAxis() {
//axes.y0=175.5,w=520
    var y0 = axes.y0, w = ctx.canvas.width;
    ctx.beginPath();
    ctx.strokeStyle = "rgb(128,128,128)";
    ctx.moveTo(0, y0);
    ctx.lineTo(w, y0);  // X axis
    ctx.stroke();

}
//------------------------------------------------------Vertical Axis------------------------------------------------------------------------------------//          
function drawVerticalAxis() {
//axes.x0=260.5,h=350
    var x0 = axes.x0+218, h = ctx.canvas.height;
    ctx.beginPath();
    ctx.strokeStyle = "rgb(128,128,128)";
    ctx.moveTo(x0, 0);
    ctx.lineTo(x0, h);  // Y axis
    ctx.stroke();

}
//-------------------------------------------------------Vertical Ticks--------------------------------------------------------------------------------//         
function drawVerticalAxisTicks() {
    var deltaX;//5

    for (var i = 1; i < 43; ++i) {
        ctx.beginPath();

        if (i % 5 === 0)
            deltaX = tickwidth / 3;
        else
            deltaX = tickwidth / 3;

        ctx.moveTo(axisorigin.x + 218 - deltaX,
                axisorigin.y + 1 + i * vrtcltickspcng);

        ctx.lineTo(axisorigin.x + 218 + deltaX,
                axisorigin.y + 1 + i * vrtcltickspcng);
        ctx.stroke();

    }
}
//-------------------------------------------------------Horizontal Ticks----------------------------------------------------------------------------------//     
function drawHorizontalAxisTicks() {
    var deltaY;//5

    for (var i = 1; i < numofhorzntick; ++i) {
        ctx.beginPath();

        if (i % 5 === 0)
            deltaY = tickwidth / 3;
        else
            deltaY = tickwidth / 3;

        ctx.moveTo(axisorigin.x + i * horzntickspcng,
                axisorigin.y + 350 - 175 - deltaY);

        ctx.lineTo(axisorigin.x + i * horzntickspcng,
                axisorigin.y + 350 - 175 + deltaY);

        ctx.stroke();
    }

}
//----------------------------------------code for drawing sine wave--------------------------------------------------//
function drawsine() {
    canvas = document.getElementById("mycanvas");
    if (null == canvas || !canvas.getContext)
        return;
    ctx = canvas.getContext("2d");
    // fill canvas
    ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
     document.getElementById("rectifiedop").disabled = false;
	 
    drawGrid(ctx);
    drawAxis();
    sinwv();
}

function sinwv() {

    vp = document.getElementById("amp-knob-fng").value;
    frqfng = document.getElementById("fq-knob-fng").value;//*Math.pow(10,3);//frequency
	
    phsl = document.getElementById("positionx").value;
    posy1 = document.getElementById("positiony1").value;
   tmaxs= document.getElementById("fq-knob").value*10*Math.pow(10,-3);// in msec  0.001; //in sec
//---------------------------------------------------------Sine wave-------------------------------------------------------------------------------//

    var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;             // time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function 
    for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = (vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#0059b3";
    var p = y0 - parseInt(posy1) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();

}

function drawhlfrectifier() {
    canvas = document.getElementById("mycanvas");
    if (null == canvas || !canvas.getContext)
        return;
    ctx = canvas.getContext("2d");
    // fill canvas
    ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    document.getElementById("chhn1").disabled = false;
        document.getElementById("chhn2").disabled = false;
        document.getElementById("dual").disabled = false;
        
    drawGrid(ctx);
    drawAxis();
    rectfy();
	
  }

function rectfy() {

    vp = document.getElementById("amp-knob-fng").value;
	
    frqfng = document.getElementById("fq-knob-fng").value;//*10*Math.pow(10,3);
    phsl = document.getElementById("positionx").value;
    posy2 = document.getElementById("positiony2").value;
tmaxs= document.getElementById("fq-knob").value*10*Math.pow(10,-3) ;// in msec  0.001; //in sec
//---------------------------------------------------------Sine wave output-------------------------------------------------------------------------------//

    var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;   
    var r =document.getElementById('R').value*1000;
	var l =document.getElementById('L').value/1000;//* (Math.pow(10,-3));
	var c= document.getElementById('C').value/1000000000;//* (Math.pow(10,-9));
	var xl = (2*3.1415*frqfng*l);
    var sqxl = Math.pow (xl,2);
	var w2 = (2*3.1415*frqfng);
	var sqw2 = Math.pow (w2,2);
	var poly1 = r*(1-(sqw2*l*c));
	var sqpoly1 = Math.pow(poly1,2);
	var poly = (sqxl + sqpoly1);
	var deno = Math.sqrt(poly);
	var vo  = xl/deno;///Math.sqrt(1+Math.pow((frqfng/15.915),4))`;
	document.getElementById('opvalue').value = vo*vp;
	
	// time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function
	

	
	for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = vo*(vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }
	
	
	
	
	
	
	

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#C21532";
    var p = y0 - parseInt(posy2) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();

}


function bthdhlfrc() {
    canvas = document.getElementById("mycanvas");
    if (null == canvas || !canvas.getContext)
        return;
    ctx = canvas.getContext("2d");
    // fill canvas
    ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    drawGrid(ctx);
    drawAxis();
    sineoutput();  
}

function sineoutput(){

 vp = document.getElementById("amp-knob-fng").value;
    frqfng = document.getElementById("fq-knob-fng").value;
    phsl = document.getElementById("positionx").value;
    posy1 = document.getElementById("positiony1").value;
   posy2 = document.getElementById("positiony2").value;
   tmaxs= document.getElementById("fq-knob").value *10*Math.pow(10,-3);// in msec  0.001; //in sec
   //---------------------------------------------------------Sine wave-------------------------------------------------------------------------------//

    var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;             // time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function 
    for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = (vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#0059b3";
    var p = y0 - parseInt(posy1) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();
 //---------------------------------------------------------Sine wave output-------------------------------------------------------------------------------//

    var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;   
    var r =document.getElementById('R').value*1000;
	var l =document.getElementById('L').value/1000;//* (Math.pow(10,-3));
	var c= document.getElementById('C').value/1000000000;//* (Math.pow(10,-9));
	var xl = (2*3.1415*frqfng*l);
    var sqxl = Math.pow (xl,2);
	var w2 = (2*3.1415*frqfng);
	var sqw2 = Math.pow (w2,2);
	var poly1 = r*(1-(sqw2*l*c));
	var sqpoly1 = Math.pow(poly1,2);
	var poly = (sqxl + sqpoly1);
	var deno = Math.sqrt(poly);
	var vo  = xl/deno;///Math.sqrt(1+Math.pow((frqfng/15.915),4))`;
	document.getElementById('opvalue').value = vo*vp;
	
	// time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function
	
	
	
	for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = vo*(vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }
	
	
	
	

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#C21532";
    var p = y0 - parseInt(posy2) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();

}

 var flag;
var vp;
var posy1;
var posy2;
var phsl;
var frqfng;
var axes = {};
var vmaxs;  //in volt
var tmaxs;// in msec  0.001; //in sec // time/div

//----------------------------------------Channel 1------------------------------------------------------------//

function posiy1chnge() {
    posy1 = document.getElementById("positiony1").value;
    if (flag == 1) {
        drawsine();
    }
    
}

//----------------------------------------Channel 2------------------------------------------------------------//


function posiy2chnge() {
    posy2 = document.getElementById("positiony2").value;
    
    if (flag == 2) {
       drawhlfrectifier();
    }

   
}

function posix2chnge() {
    phsl = document.getElementById("positionx").value;
    if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
          drawhlfrectifier();;
    }
 
}

function ampfng() {
    vp = document.getElementById("amp-knob-fng").value;
    if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
          drawhlfrectifier();;
    }
if(Flag==3){
        bthdhlfrc();
    }
    
    
}

function freqfng() {
    frqfng = document.getElementById("fq-knob-fng").value;
    if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
          drawhlfrectifier();;
    }

   if(flag==3){
        bthdhlfrc();
    }
    
}





function chnlo(){
drawsine();
//drawsqr();
}

function chnlt(){
 drawhlfrectifier(); 
//drawsquare(); 
}

function bthd(){
    bthdhlfrc();
}

//------------------------------------------------Amp1perdiv(volt/div)--------------------------------------------------------//
function amp1pdiv()
{
     voltperdiv = document.getElementById("amp-knob1").value;
  vmaxs = parseFloat(voltperdiv)*4;//volt 

    if (flag == 1) {
        drawsine();
    }
     if (flag == 2) {
        drawhlfrectifier();
    }

   if(flag==3){
        bthdhlfrc();
    }
    
}
//------------------------------------------------timeperdiv(ms/div)--------------------------------------------------------//
function timepdiv() {
    timeperdiv = document.getElementById("fq-knob").value ;
	tmaxs =parseFloat(timeperdiv)*10*Math.pow(10,-3); //1sec
   if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
        drawhlfrectifier();
    }
if(flag==3){
        bthdhlfrc();
    }
    
}
//
//alert(tmaxs);

<!----- knob ver2.js -------->
var vmaxs;  //in volt
var tmaxs; // in msec  0.001; //in sec
$(document).ready(function () {

//------------------------------knob of frequency(tmax)time/div(ms/div)----------------------//
    $("#fq-knob").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        //cursor: pointer,
        min:0.01,
        max: 10,
        step:0.2,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
            }
            if (flag == 2) {
                 drawhlfrectifier();
            }
      if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }
    });
    //-----------------------knob of amplitude1(vmax/div)-------------------------------//
    $("#amp-knob1").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        // cursor: pointer,
       min: 0.05,
        max: 10,
        step: 0.01,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
            }
            if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }
    });
    //-----------------------knob of amplitude2(vmax/div)-------------------------------//
    $("#amp-knob2").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        // cursor: pointer,
        min: 0.05,
        max: 10,
        step: 0.01,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
           
            if (flag == 2) {
                 drawhlfrectifier();
            }

           if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }

    });
//------------------------------knob of frequency(hz)----------------------//
    $("#fq-knob-fng").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        //cursor: pointer,
        min: 90,
        max: 150000,
        step: 500,
		angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
				
            }
            if (flag == 2) {
                  drawhlfrectifier();
            }

          if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
	
	
		
	
        }

    });
    //-----------------------knob of amplitude1(volt)-------------------------------//
    $("#amp-knob-fng").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        // cursor: pointer,
        min: 1,
        max: 20,
        step: 0.1,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
            }
            if (flag == 2) {
                  drawhlfrectifier();
            }
           if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }

    });
});

var counter=0;
function clicked(){
if (counter==1){
document.getElementById('fq-knob-fng').value=500;
drawsine();
}
else if(counter==2){
document.getElementById('fq-knob-fng').value=1000;
drawsine();
}
else if(counter==3){
document.getElementById('fq-knob-fng').value=2000;
drawsine();
}
else if(counter==4){
//document.getElementById('fq-knob').value=0.5;
document.getElementById('fq-knob-fng').value=5000;
drawsine();
}
else if(counter==5){
document.getElementById('fq-knob-fng').value=10000;
drawsine();
}
else if(counter==6){
document.getElementById('fq-knob-fng').value=20000;
drawsine();
}
else if(counter==7){
document.getElementById('fq-knob-fng').value=40000;
drawsine();
}
else if(counter==8){
document.getElementById('fq-knob-fng').value=60000;
drawsine();
}
else if(counter==9){
document.getElementById('fq-knob-fng').value=80000;
drawsine();
}
else if(counter==10){
document.getElementById('fq-knob').value=0.01;
document.getElementById('fq-knob-fng').value=100000;
drawsine();
}

counter++;
}
var tabrowindex = 0;
var arr = [];
var table;

var chart;
var dataPoints = [];
// var showAlert;
//------------------------------------------------- Table Creation -----------------------------------------------//
function tabled() {

//document.getElementById('tr1').style.display="block";
    arr[0] = tabrowindex + 1;
    arr[1] = document.getElementById("fq-knob-fng").value;
    arr[2] = document.getElementById("amp-knob-fng").value;
    arr[3] = document.getElementById("opvalue").value;
	arr[4] = arr[3]/arr[2];
	arr[5]= 20 * ( Math.log10(arr[4]));
table = document.getElementById("myTable");
        
        var row = table.insertRow(++tabrowindex);
   
    if (table.rows.length <= 15) {
        
         // Row increment
        for (var q = 0; q < 6; q++) {

            var cell = row.insertCell(q);
            cell.innerHTML = arr[q];

    }

    }

}   
//var sarr=[];
var tabrowindex2=0;
function table2() {

    arr[0] = tabrowindex2 + 1;
	arr[1] = document.getElementById("L").value;
	arr[2] = document.getElementById("C").value;
    arr[3] = document.getElementById("fq-knob-fng").value;
    arr[4] = document.getElementById("amp-knob-fng").value;
    arr[5] = document.getElementById("opvalue").value;
	arr[6] = arr[5]/arr[4];
    arr[7]= (4/3.1415)*arr[4];
	if(arr[3]>=4500 && arr[3]<=5300){
	arr[7]= (4/(3*3.1415))*arr[4];
	}
	
	else if(arr[3]>=3200 && arr[3]<=4300){
	arr[7]= (4/(5*3.1415))*arr[4];
	}
var scndtable = document.getElementById("myTable2");
        
        var row = scndtable.insertRow(++tabrowindex2);
   
    if (scndtable.rows.length <= 15) {
        
         // Row increment
        for (var q = 0; q < 8; q++) {

            var cell = row.insertCell(q);
            cell.innerHTML = arr[q];

    }

    }

}   
















 

<!-------graph for frequency response --->
function plot() {
document.getElementById('chartContainer').style.display ="block";
table= document.getElementById('myTable');
    for (var tabrowindex = 1; tabrowindex < table.rows.length; tabrowindex++) {
        var rwe1 = table.rows[tabrowindex].cells;

        dataPoints.push({x: parseFloat(rwe1[1].innerHTML), y: parseFloat(rwe1[5].innerHTML)});
    }

    chart = new CanvasJS.Chart("chartContainer", {
        theme: "theme1", 
        title: {
            text: "Frequency Response Plot ",
			fontColor:"#086176",
		    fontSize: 15,
        },
        
        legend: {
            verticalAlign: "bottom",
            horizontalAlign: "center",
        },
        axisX: {
            logarithmic: true, 
		title: "Frequency(Hz)",
		titleFontColor: "black",		
		gridColor:"lightblue",
		gridThickness: 2,
		lineThickness: 1,
		maximum:100500,
        },
        axisY: {
            title: "Gain(dB)",
        },
        data: [
            {
                type: "line",
                dataPoints: dataPoints
            }
        ]
		
    });

    chart.render();
	

    

}



<!---hide plots and tables-->
function vanish(){
var Dtable= document.getElementById('myTable');
var Trow = Dtable.rows.length;
for (var i= Trow-1;i>0;i--){

Dtable.deleteRow(i);
}
var Detable= document.getElementById('myTable2');
var T2row = Detable.rows.length;
for (var i= T2row-1;i>0;i--){

Detable.deleteRow(i);
}

tabrowindex=0;
tabrowindex2=0;
dataPoints = [];
document.getElementById('chartContainer').style.display="none";
//document.getElementById('fq-knob-fng').value="15400";
if(document.getElementById('onff').value=="off"){
clicked();
}


}


 
 
 
 
 
 
 
 
 
 
 
 
 </script> 
  
</body>
</html>  
  
  
  
  
  
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	