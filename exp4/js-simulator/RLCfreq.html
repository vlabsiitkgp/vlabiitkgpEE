<html>
<head>

<link rel="stylesheet" type="text/css" href="RLC.css">
<link rel="stylesheet" type="text/css" href="demo.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-Knob/1.2.13/jquery.knob.min.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"> </script>

<!--<script src="square wv/squarewave.js"></script>-->
<style>
.slider {
  -webkit-appearance: none;
  width: 8.5%;
  height: 5px;
  background: black;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 10px;
  height: 25px;
  opacity: 1;
  background: #04AA6D;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  background: #04AA6D;
  cursor: pointer;
}




</style>
</head>

<body  id="container"  >
 
<div id="whole_body" style=" position:relative; margin-left:auto; margin-right:auto; top:0px; width:1160px; height:1160px">
<div style="font-size:20px; color:#3344FF;text-align:center; height:100px;position:relative; left:20px"> <b>Frequency Response of RLC Series Circuit</b></div>

<form name='f1'>
<div id="main_circuit" style="position:relative; left:0px">
<p style="position:relative; top:-60px;left:890px"><b>Main Circuit </b></p>

<!----Main Circuit Image Insertion---->
    <img src="images/reo.jpg" alt="Tutorials Point" style="position:absolute; top:-60px;  left:730px;size:20px"/>
	<img src="images/Resi.png" alt="Tutorials Point" style="position:absolute; top:-5px;  left:750px;size:20px"/>
	<img src="images/L.png" alt="Tutorials Point" style="position:absolute; top:6px;  left:870px;size:20px"/>
	<img src="images/C.png" alt="Tutorials Point" style="position:absolute; top:40px;  left:1000px;size:20px"/>
	<img src="images/FG.png" alt="Tutorials Point" style="position:absolute; top:40px;  left:630px;size:-20px"/>
	<img src="images/CRO.png" alt="Tutorials Point" style="position:absolute; top:40px;  left:1070px;size:-20px"/>
	<img src="images/grnd.png" alt="Tutorials Point" style="position:absolute; top:180px;  left:850px;size:20px"/>
	<img src="images/swoff.png"  id="onff" onclick="mainswt()" style="position:absolute; top:520px;  left:400px;z-index:1;size:2px"/>
	<!--<p style="position:absolute;top:15px; left:680px;size:20px"> ch1</p></br></br></br>
	<p style="position:absolute; top:130px;left:680px;size:20px">ch2</p><br/>
	<p style="position:absolute; top:100px;left:1130px;size:20px">CRO</p>--->
	<!---buttons-->
	<input type="range" id="range" onchange="changeslider()" class="slider" min="200" max="1600" step="200" value="200" style="position:absolute; top:-54px;  left:745px;size:20px">
	
	
	
  <input type ="button"  value="TableShow" onclick=" tabled()" style="text-align:center; cursor: pointer; background-color:#158FC2;border-radius:20px; width:90px; height:30px; font-size:15px; position:absolute; top:310px; right:130px;border-shadow:2px">
  <input type ="button" value="Gain Plot" onclick="plot()" style="text-align:center; cursor: pointer; background-color:#15C297;border-radius:20px; width:90px; height:30px; font-size:15px; position:absolute; top:310px; right:45px;border-shadow:2px">
  <input type ="button" value="Phase Plot" onclick="plot2()" style="text-align:center; cursor: pointer; background-color:#15C297;border-radius:20px; width:90px; height:30px; font-size:15px; position:absolute; top:310px; right:-45px;border-shadow:2px">
  
  <input type ="button" id="clear" value="Clear" onclick="vanish()"disabled="true" style="text-align:center; cursor: pointer; background-color:#8F9292;border-radius:20px; width:90px; height:30px; font-size:15px; position:absolute; top:310px; right:-140px;border-shadow:2px">
	<input type="button" id= "chk_con" value="Check" style="position:absolute; top:250px;  left:870px; background-color:#D60411; border-radius: 10px;box-shadow: 0 2px #999;height:30px; width:80px">
	<input type="button"  id="delete" onclick="deleteconnection()" style="position:absolute; top:250px; width:80px;height:30px; right:100px;background-color:#C2C7C8; border-radius: 10px; box-shadow: 0 2px #999; " value="Delete"/>
	<!--- connecting Dots--->
	<div class="jtk-demo-canvas canvas-wide animation-demo jtk-surface jtk-surface-nopan" id="canvas"> 
	
<div class="bigdot" id="bd1"></br><a href="#" class="cmdLink detach" rel="bd1"style="position:absolute; top:56px;  left:75px;size:20px">1</a> </div>	
<div class="bigdot" id="bd2"></br><a href="#" class="cmdLink detach" rel="bd2"style="position:absolute; top:56px;  left:75px;size:20px" >2</a></div> 
<div class="bigdot" id="bd3"></br><a href="#" class="cmdLink detach" rel="bd3" style="position:absolute; top:56px;  left:75px;size:20px">3</a></div> 
<div class="bigdot" id="bd4"></br><a href="#" class="cmdLink detach" rel="bd4"style="position:absolute; top:56px;  left:75px;size:20px" >4</a></div>
<div class="bigdot" id="bd5"></br><a href="#" class="cmdLink detach" rel="bd5"style="position:absolute; top:56px;  left:75px;size:20px" >5</a></div> 
<div class="bigdot" id="bd6"></br><a href="#" class="cmdLink detach" rel="bd6"style="position:absolute; top:56px;  left:75px;size:20px" >6</a></div> 
<div class="bigdot" id="bd7"></br><a href="#" class="cmdLink detach" rel="bd7"style="position:absolute; top:56px;  left:75px;size:20px" >7</a></div> 
<div class="bigdot" id="bd8"></br><a href="#" class="cmdLink detach" rel="bd8"style="position:absolute; top:60px;  left:65px;size:20px" >8</a></div> 
<div class="bigdot" id="bd9"></br><a href="#" class="cmdLink detach" rel="bd9"style="position:absolute; top:56px;  left:70px;size:20px" >9</a></div> 
<div class="bigdot" id="bd10"></br><a href="#" class="cmdLink detach" rel="bd10"style="position:absolute; top:56px;  left:75px;size:20px" >10</a></div>
<div class="bigdot" id="bd11"></br><a href="#" class="cmdLink detach" rel="bd11"style="position:absolute; top:56px;  left:75px;size:20px" >11</a></div>
</div>

<script src="jsplumb.js"></script>
<script src="demo.js"> </script>	
</div>	<!--- End of Main Circuit-->

<!------ Dropdown Hover Instructions----->
	<div class="dropdown" style="position:relative;top:-120px ">
  <p style="color:#B3061D"><b>INSTRUCTIONS</b></p>
  <div class="dropdown-content" style="color:#025167">
  <ol type="1">
  <li>Connect the circuit elements as mentioned below</br> 1-3 ,4-5 ,8-6, 6-10, 9-11, 2-7, 7-9(ex:-Drag from 1 and click on 3.)</li><br/>
  
  <li> 3 volt p-p sinusoidal voltage is applied at the input.Put R=200ohm initially ,L=0.1H, C=0.1uF.</li><br/>
  
  <li>Switch on the oscilloscope by clicking "ON" button & click twice the Sine wave button for input signal & click on the"Output" button to observe the output.Channel & Channel2 button shows the input & output signals respectively. Dual, shows both of them. </li> <br/>

  <li>Change the Frequency of input signal by the Frequency knob from 100Hz to 5KHz or 5000Hz & observe the corresponding output voltage signal.</li><br/>
  
  <li>If in any case the output signal waveform exceeds the graphical grid or the oscilloscope area,increase the value of volt/div through volt/div knob
 both for input and output signals. for Ex. for 1500Hz it may be observed. Then increase the volt/div values to approximate 2 using those two volt/div knobs.
Again if in any case the input signal comes as a straight line, decrease the Time/div value to 0.2 using Time/div knob at the bottom. </li><br/>

  <li>Switch off the oscilloscope</li><br/>

  <li>Click on Tableshow button each time after clicking on "output" button to see observation each time.</li><br/>

  <li>Click on 'GainPlot' button to see the frequency response plot(Gain(dB)vs.Frequency(Hz))& click on the 'Phaseplot'button to see the corresponding phase response.Click on Clear button to clear datas.</li><br/>

  <li>Switch off the oscilloscope.Change 'R' value by increasing the rheostat to increase the value of ζ and observe different results for damping ratio &#950; = (0.1,0.2,0.3,0.5,0.7).</li><br/>
 
  <li> From the Gain plots the maximum gain,-3dB frequency can be observed for different &#950; .</li> 
  
  </ol>
  </div>
  </div></form><!--- End of Instructions-->
  
  <input type="number" name="R" value="200" min="200" max="1600" step="200"  id="R" style="position:absolute; top:30px;  left:740px; width:55px;"readOnly="readOnly"/>
  <input type="number" name="L" value="0.1" min="0" max="20"  id="L" style="position:absolute; top:150px;  left:900px; width:50px"readOnly="readOnly"/>
  <input type="number" name="C" value="0.1" min="0" max="1050" id="C" style="position:absolute; top:200px;  left:950px; width:50px"readOnly="readOnly" />
  <input type="number" name="zeta" value="0.1" min="0.1" max="0.8" step="0.1"  id="zeta" style="position:absolute; top:375px;  left:1100px; width:50px;"readOnly="readOnly"/>
  
  <!--<p style="position:absolute; top:90px;  left:1085px"><b>R</b></p>-->
  <p style="position:absolute; top:80px;  left:930px"><b>L</b></p><!--- Input Boxes-->
  <!--<p style="position:absolute; top:350px;  left:1085px"><b>C </b></p>-->
  <p style="position:absolute; top:360px;  left:1085px"><b>&#950; </b></p>
  
	<p style="position:absolute; top:20px;  left:800px"><b>ohm</b></p>
  <p style="position:absolute; top:140px;  left:960px"><b>H</b></p><!--Input Box's labels-->
  <p style="position:absolute; top:180px;  left:930px"><b>uF</b></p>
	
	<!-----Oscilloscope------>
  <div id="oscilo">
  
  <div style="position:absolute; font-size:14px; top:120px;left:0px;  height:50px;background-color:#1F1D1D;  width:200px;font-weight: bold;">
  
  <p style="text-align:center;color:white"> <b> OSCILLOSCOPE</b></p>
  
  <input type="button" id="sinecrv" value="Sine Wave" onclick="drawsine()"  disabled="true" style="position:absolute;left:200px;top:-4px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">
  <!--<input type="button" id="squarecrv" value="Square wave " onclick="drawsqr()"style="position:absolute;left:200px;top:25px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">
  <input type="button" id="rectifiedop2" value="Square Output" onclick="drawsquare()" disabled="true"  style="position:absolute;left:330px;top:-10px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">-->

  <input type="button" id="rectifiedop" value="Sin Output" onclick="drawhlfrectifier()" disabled="true" style="position:absolute;left:330px;top:10px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;">
 <input type="number" id="opvalue" value="0" readonly="readonly" style="width:100px;position:absolute;left:330px;top:35px;cursor:pointer;text-align: center;border-radius: 5px;box-shadow: 0 2px #999;"><label style="position:absolute;top:20px;left:420px">Output(vo)v</label>
 </div>

 <center> <canvas id="mycanvas" width="430" height="350" style="border:1px solid black;position:absolute;top:121px; left:-30px">
   </canvas></center>
   
   
  <!---lower rectangle after oscilloscope--->
  <div class="lowerleftsection">
  <input type="button" id="chhn1" value="Channel 1" onclick="chnlo()" disabled="true" />
  <input type="button" id="chhn2" value="Channel 2" onclick="chnlt()" disabled="true" />
  <input type="button" id="dual" value="Dual" onclick="bthd()"  disabled="true"/>
  <!--<input type="button" id="changer" value="Frequency_Changer" onclick="clicked()" style="position:relative;right:80px;top:150px;width:150px;text-align: center; border-radius: 10px;box-shadow: 0 2px #999;"  />
  -->
  
  <!-------- Function Generator--->
     <div id= "knob-container-fng">                      <!------frequency-knob-container------------>
                            <div id="frequency-knob-container-fng">
                                <input type="number" id="fq-knob-fng"  value="100" readOnly="false" oninput="freqfng()">
                                <label>Frequency(Hz)</label>
                            </div>

                            <!-----------amplitude-knob-container---------------->
                            <div id="amplitude-knob-container-fng">
                                <input type="number" id="amp-knob-fng" readOnly="false"  value="3" oninput="ampfng()">
                                <label>voltage(Volt)</label>
                            </div>
							
							
														

                        </div>  <!--------------- end of .knob-container-fng----------------------->  
    </div>
  
   <div class="middlerightmiddle">
   <div id="knob-container-amp">
        <!-----------amplitude-knob-container1(volt/div)---------------->
                           
   <div id="amplitude-knob-container1">
   <input type="text" id="amp-knob1" value="1" readOnly="false" oninput="amp1pdiv()">
   <label>Volt(V)/div</label><br>
                 
   </div>
                             
   <!-----------amplitude-knob-container2(volt/div)-------------->
   <div id="amplitude-knob-container2">
   <input type="text" id="amp-knob2"  value="1" readOnly="false" oninput="amp2pdiv()" >
   <label>Volt(V)/div</label>
   </div>
   </div><!--------------- end of .knob-container-amp----------------------->
<input type="range" orient="vertical" id="positiony1" min="-2" max="2" value="0" oninput="posiy1chnge()"  style="cursor:pointer;">  <label id="positnlabely1">Position-Y</label><label id="positnlabelch1"style="position:absolute;top:170px;left:120px">Channel 1</label>
<input type="range" orient="vertical" id="positiony2" min="-2" max="2"  value="0" oninput="posiy2chnge()" style="cursor:pointer;">  <label id="positnlabely2">Position-Y</label><label id="positnlabelch2" style="position:absolute;top:170px;left:320px">Channel 2</label>
<div class="middlerightsectiondivide"></div>
</div><!--End of middle right middle--->
						
						
  <div class="middlerightupper">
                        <input  type="range"  id="positionx" min="-360" max="360" step="90"  value="0" oninput="posix2chnge()"  style="cursor:pointer;">
                        <label id="positnlabelx">Position-X</label>

                        <!-- -----knob---------- -->
                        <div id="knob-container">
                            <!------frequency-knob-container(time(ms)/div)------------>
                            <div id="frequency-knob-container">
                                <input type="text" id="fq-knob"  value="1"  readOnly=false oninput="timepdiv()">
                                <label>Time(ms)/div</label>
                            </div>
                        </div><!--------------- end of .knob-container----------------------->

                    </div> <!--------------- end of .middlerightupper--------------------->
  
 <!------End of Oscilloscope & Function Generator------>
 
 <!--- Table Creation for frequency responce--> 
  <div id="tr1" style="position:absolute;top:470px;left:860px  ">
  <table id="myTable" border="1">
   <tr>
   <th> Sl. No.</th>
   <th>&#950;</th>
   <th>Frequency(Hz)</th>
  <th>V<sub>R</sub></th>
  <th>V<sub>L</sub></th>
  <th>V<sub>C</sub></th>
  <th>Gain(dB)</th>
  <th>Phase(degree)</th>  
  </tr>
</table>
  </div>
  
 <!--- Table Creation for fourier coeff--> 
 <!-- <div id="tr2" style="display:none;position:absolute;top:470px;left:860px  ">
  <table id="myTable2" border="1">
   <tr>
   <th> Sl. No.</th>
   <th>L(mH)</th>
  <th>C(nF)</th>   
   <th>Frequency(Hz)</th>
  <th>Input Voltage</th>
  <th>Output Voltage(V<sub>o</sub>)</th>
  <th>V<sub>o</sub>/V<sub>i</sub></th>
  <th id="harmonic">Harmonic(a1)</th> 
  </tr>
</table>
  </div> -->
  
  
  
  
  
  
  
  
  
  
 <!--- Graph Container-->  
 <div id="chartContainer" style="display:none;position:absolute;top:730px;left:710px;height: 370px; width: 55%;"></div>
  <div id="chartContainer2" style="display:none;position:absolute;top:730px;left:710px;height: 370px; width: 55%;"></div>
 </div> 
 <script>
 
 function changeslider(){
 //var R=document.getElementById('R').value ;
 var L=document.getElementById('L').value ;
 var C=document.getElementById('C').value/1000000 ;
 document.getElementById('R').value=document.getElementById('range').value;
 document.getElementById('zeta').value = (document.getElementById('R').value/2)* Math.sqrt(C/L);
 }
 
 var canvas,ctx;
var flag;
var axes = {};
var vmaxs;  //in volt
var tmaxs; // in msec  0.001; //in sec
var voltperdiv,timeperdiv;

//-----------------------------------------------Oscilliscope on-off function----------------------------------------------------------//
function mainswt() {
    var bttn = document.getElementById('onff').value;
	
	
    if (bttn == "Off") {

        document.getElementById("onff").value = "On";
		var canvas = document.getElementById('mycanvas');
        
        ctx.clearRect(0, 0, canvas.width, canvas.height);
		document.getElementById("sinecrv").disabled = true;
        document.getElementById("rectifiedop").disabled = true;
        document.getElementById("chhn1").disabled = true;
        document.getElementById("chhn2").disabled = true;
        document.getElementById("dual").disabled = true;
		document.getElementById("clear").disabled = false;
        document.getElementById('opvalue').value = '0';	
        document.getElementById("onff").src =" images/swoff.png ";
        	
        }
    else {
        document.getElementById("onff").value = "Off";
        document.getElementById("sinecrv").disabled = false;
        document.getElementById("rectifiedop").disabled = true;  
        document.getElementById("chhn1").disabled = true;
        document.getElementById("chhn2").disabled = true;
        document.getElementById("dual").disabled = true; 
		document.getElementById("clear").disabled = true;
		document.getElementById("onff").src =" images/swon.png ";
        drawAxis();
        drawGrid(ctx);

    }
}

function drawAxis() {

    canvas = document.getElementById("mycanvas");
    ctx = canvas.getContext("2d");

   voltperdiv1 = document.getElementById("amp-knob1").value;
   vmaxs1 = parseFloat(voltperdiv1)*4;//volt 
  voltperdiv2 = document.getElementById("amp-knob2").value;
  vmaxs2 = parseFloat(voltperdiv2)*4;//volt 

    axes.x0 = 0.5 + 0.0 * canvas.width;//260.5
    axes.y0 = 0.5 + 0.5 * canvas.height;//175.5
    // axes.scale = 50;
    axes.xscale = (canvas.width) / ( tmaxs); 	// x pix per s//260000
   
    axes.N = 101;
     if(flag==1){
          axes.yscale = (canvas.height) / (2 * vmaxs1);    // y pix per V //87.5
     }
     if(flag==2){
         axes.yscale = (canvas.height) / (2 * vmaxs2);    // y pix per V //87.5
     }
    if(flag==3){
         axes.yscale = (canvas.height) / (2 * vmaxs1);    // y pix per V //87.5
         axes.yscale = (canvas.height) / (2 * vmaxs2);    // y pix per V //87.5
     }
    axes.doNegativeX = true;
    ctx.lineWidth = 0.5;
    ctx.lineWidth = ticklinewidth;
    ctx.strokeStyle = tickcolor;

    drawHorizontalAxis();
    drawVerticalAxis();
    drawVerticalAxisTicks();
    drawHorizontalAxisTicks();
}

function drawGrid(ctx) {

    var w = ctx.canvas.width;
    var h = ctx.canvas.height;
    ctx.beginPath();//added afterwards
    for (var x = 0; x < w; x += 43.5) {
        ctx.moveTo(x, 0);
        ctx.lineTo(x, h);
    }

    for (var y = 0; y < h; y += 44) {
        ctx.moveTo(0, y);
        ctx.lineTo(w, y);
    }
    ctx.strokeStyle = "Gainsboro";
    ctx.stroke();
}

var axismargin = 30,
        axisorigin = {x: 0, y: 0},
        axisright = 520,
        horzntickspcng = 9,
        vrtcltickspcng = 9,
        axiswidth = axisright, //520
        axisheight = axisorigin.y, //350
        numofvrtcltick = axisheight / vrtcltickspcng, //175
        numofhorzntick = axiswidth / horzntickspcng, //57.77777777777778
        tickwidth = 10,
        ticklinewidth = 0.5,
        tickcolor = 'black',
        axislinewidth = 1.0,
        axiscolor = 'lightgray';
//alert(numofvrtcltick);
//------------------------------------------------------Horizontal Axis----------------------------------------------------------------------------------//
function drawHorizontalAxis() {
//axes.y0=175.5,w=520
    var y0 = axes.y0, w = ctx.canvas.width;
    ctx.beginPath();
    ctx.strokeStyle = "rgb(128,128,128)";
    ctx.moveTo(0, y0);
    ctx.lineTo(w, y0);  // X axis
    ctx.stroke();

}
//------------------------------------------------------Vertical Axis------------------------------------------------------------------------------------//          
function drawVerticalAxis() {
//axes.x0=260.5,h=350
    var x0 = axes.x0+218, h = ctx.canvas.height;
    ctx.beginPath();
    ctx.strokeStyle = "rgb(128,128,128)";
    ctx.moveTo(x0, 0);
    ctx.lineTo(x0, h);  // Y axis
    ctx.stroke();

}
//-------------------------------------------------------Vertical Ticks--------------------------------------------------------------------------------//         
function drawVerticalAxisTicks() {
    var deltaX;//5

    for (var i = 1; i < 43; ++i) {
        ctx.beginPath();

        if (i % 5 === 0)
            deltaX = tickwidth / 3;
        else
            deltaX = tickwidth / 3;

        ctx.moveTo(axisorigin.x + 218 - deltaX,
                axisorigin.y + 1 + i * vrtcltickspcng);

        ctx.lineTo(axisorigin.x + 218 + deltaX,
                axisorigin.y + 1 + i * vrtcltickspcng);
        ctx.stroke();

    }
}
//-------------------------------------------------------Horizontal Ticks----------------------------------------------------------------------------------//     
function drawHorizontalAxisTicks() {
    var deltaY;//5

    for (var i = 1; i < numofhorzntick; ++i) {
        ctx.beginPath();

        if (i % 5 === 0)
            deltaY = tickwidth / 3;
        else
            deltaY = tickwidth / 3;

        ctx.moveTo(axisorigin.x + i * horzntickspcng,
                axisorigin.y + 350 - 175 - deltaY);

        ctx.lineTo(axisorigin.x + i * horzntickspcng,
                axisorigin.y + 350 - 175 + deltaY);

        ctx.stroke();
    }

}
//----------------------------------------code for drawing sine wave--------------------------------------------------//
function drawsine() {
    canvas = document.getElementById("mycanvas");
    if (null == canvas || !canvas.getContext)
        return;
    ctx = canvas.getContext("2d");
    // fill canvas
    ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
     document.getElementById("rectifiedop").disabled = false;
	 
    drawGrid(ctx);
    drawAxis();
    sinwv();
}

function sinwv() {

    vp = document.getElementById("amp-knob-fng").value;
    frqfng = document.getElementById("fq-knob-fng").value;//*Math.pow(10,3);//frequency
	
    phsl = document.getElementById("positionx").value;
    posy1 = document.getElementById("positiony1").value;
   tmaxs= document.getElementById("fq-knob").value*10*Math.pow(10,-3);// in msec  0.001; //in sec
//---------------------------------------------------------Sine wave-------------------------------------------------------------------------------//

    var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;             // time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function 
    for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = (vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#0059b3";
    var p = y0 - parseInt(posy1) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();

}

function drawhlfrectifier() {
    canvas = document.getElementById("mycanvas");
    if (null == canvas || !canvas.getContext)
        return;
    ctx = canvas.getContext("2d");
    // fill canvas
    ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    document.getElementById("chhn1").disabled = false;
        document.getElementById("chhn2").disabled = false;
        document.getElementById("dual").disabled = false;
        
    drawGrid(ctx);
    drawAxis();
    rectfy();
	
  }

function rectfy() {

    vp = document.getElementById("amp-knob-fng").value;
	
    frqfng = document.getElementById("fq-knob-fng").value;//*10*Math.pow(10,3);
    phsl = document.getElementById("positionx").value;
    posy2 = document.getElementById("positiony2").value;
tmaxs= document.getElementById("fq-knob").value*10*Math.pow(10,-3) ;// in msec  0.001; //in sec
//---------------------------------------------------------Sine wave output-------------------------------------------------------------------------------//

    var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;   
    var r =document.getElementById('R').value;
	var l =document.getElementById('L').value;//* (Math.pow(10,-3));
	var c= document.getElementById('C').value/1000000;//* (Math.pow(10,-9));
	var w= 2*3.1415*frqfng;
	var w2= Math.pow(w,2);
	var d1 = (1-(w2*l*c));
	var d12= Math.pow(d1,2);
	var zeta = document.getElementById('zeta').value;
	var zeta2= Math.pow(zeta,2);
	var d2= (4*zeta2*w2*l*c);
	var TD= Math.sqrt(d12+d2);
	var gain= 1/TD;
	
	document.getElementById('opvalue').value = gain*vp;
	
	// time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function
	

	
	for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = gain*(vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }
	
	
	
	
	
	
	

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#C21532";
    var p = y0 - parseInt(posy2) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();

}


function bthdhlfrc() {
    canvas = document.getElementById("mycanvas");
    if (null == canvas || !canvas.getContext)
        return;
    ctx = canvas.getContext("2d");
    // fill canvas
    ctx.fillStyle = "white";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    drawGrid(ctx);
    drawAxis();
    sineoutput();  
}

function sineoutput(){

 vp = document.getElementById("amp-knob-fng").value;
    frqfng = document.getElementById("fq-knob-fng").value;
    phsl = document.getElementById("positionx").value;
    posy1 = document.getElementById("positiony1").value;
   posy2 = document.getElementById("positiony2").value;
   tmaxs= document.getElementById("fq-knob").value *10*Math.pow(10,-3);// in msec  0.001; //in sec
   //---------------------------------------------------------Sine wave-------------------------------------------------------------------------------//

    var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;             // time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function 
    for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = (vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#0059b3";
    var p = y0 - parseInt(posy1) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();
 //---------------------------------------------------------Sine wave output-------------------------------------------------------------------------------//

   var x = new Array(), y = new Array();  // x,y plotting variables
    var dt, tstart, tstop;   
    var r =document.getElementById('R').value;
	var l =document.getElementById('L').value;//* (Math.pow(10,-3));
	var c= document.getElementById('C').value/1000000;//* (Math.pow(10,-9));
	var w= 2*3.1415*frqfng;
	var w2= Math.pow(w,2);
	var d1 = (1-(w2*l*c));
	var d12= Math.pow(d1,2);
	var zeta = document.getElementById('zeta').value;
	var zeta2= Math.pow(zeta,2);
	var d2= (4*zeta2*w2*l*c);
	var TD= Math.sqrt(d12+d2);
	var gain= 1/TD;
	
	document.getElementById('opvalue').value = gain*vp;
	
	// time variables
    flag = 1;
    // define plot paramaters
    tstart = 0; //in sec
    tstop = tmaxs;
    dt = (tstop - tstart) / (101 - 1);// time increment over N points

    // create function
	

	
	for (var i = 0; i < axes.N; i++) {
        x[i] = tstart + i * dt;
        y[i] = gain*(vp/2) * Math.sin(2 * 3.1415 * frqfng * x[i] + phsl * 3.1415 / 180);
    }
	
	
	
	
	

    var i, x0, y0, xscale, yscale, xp, yp;

    x0 = axes.x0;//260.5
    y0 = axes.y0;//175.5
    xscale = axes.xscale;//260000
    yscale = axes.yscale;//87.5

    ctx.beginPath();
    ctx.lineWidth = 1.5;
    ctx.strokeStyle = "#C21532";
    var p = y0 - parseInt(posy2) * yscale;
    for (i = 0; i < axes.N; i++) {

        // translate actual x,y to plot xp,yp
        xp = x0 + x[i] * xscale;
        yp = y0 - y[i] * yscale + p - 175;

        // draw line to next point
        if (i == 0)
            ctx.moveTo(xp, yp);
        else
            ctx.lineTo(xp, yp);
    }

    ctx.stroke();

}

 var flag;
var vp;
var posy1;
var posy2;
var phsl;
var frqfng;
var axes = {};
var vmaxs;  //in volt
var tmaxs;// in msec  0.001; //in sec // time/div

//----------------------------------------Channel 1------------------------------------------------------------//

function posiy1chnge() {
    posy1 = document.getElementById("positiony1").value;
    if (flag == 1) {
        drawsine();
    }
    
}

//----------------------------------------Channel 2------------------------------------------------------------//


function posiy2chnge() {
    posy2 = document.getElementById("positiony2").value;
    
    if (flag == 2) {
       drawhlfrectifier();
    }

   
}

function posix2chnge() {
    phsl = document.getElementById("positionx").value;
    if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
          drawhlfrectifier();;
    }
 
}

function ampfng() {
    vp = document.getElementById("amp-knob-fng").value;
    if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
          drawhlfrectifier();;
    }
if(Flag==3){
        bthdhlfrc();
    }
    
    
}

function freqfng() {
    frqfng = document.getElementById("fq-knob-fng").value;
    if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
          drawhlfrectifier();;
    }

   if(flag==3){
        bthdhlfrc();
    }
    
}





function chnlo(){
drawsine();
//drawsqr();
}

function chnlt(){
 drawhlfrectifier(); 
//drawsquare(); 
}

function bthd(){
    bthdhlfrc();
}

//------------------------------------------------Amp1perdiv(volt/div)--------------------------------------------------------//
function amp1pdiv()
{
     voltperdiv = document.getElementById("amp-knob1").value;
  vmaxs = parseFloat(voltperdiv)*4;//volt 

    if (flag == 1) {
        drawsine();
    }
     if (flag == 2) {
        drawhlfrectifier();
    }

   if(flag==3){
        bthdhlfrc();
    }
    
}

function amp2pdiv()
{
     voltperdiv = document.getElementById("amp-knob2").value;
  vmaxs = parseFloat(voltperdiv)*4;//volt 

    if (flag == 1) {
        drawsine();
    }
     if (flag == 2) {
        drawhlfrectifier();
    }

   if(flag==3){
        bthdhlfrc();
    }
    
}
//------------------------------------------------timeperdiv(ms/div)--------------------------------------------------------//
function timepdiv() {
    timeperdiv = document.getElementById("fq-knob").value ;
	tmaxs =parseFloat(timeperdiv)*10*Math.pow(10,-3); //1sec
   if (flag == 1) {
        drawsine();
    }
    if (flag == 2) {
        drawhlfrectifier();
    }
if(flag==3){
        bthdhlfrc();
    }
    
}
//
//alert(tmaxs);

<!----- knob ver2.js -------->
var vmaxs;  //in volt
var tmaxs; // in msec  0.001; //in sec
$(document).ready(function () {

//------------------------------knob of frequency(tmax)time/div(ms/div)----------------------//
    $("#fq-knob").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        //cursor: pointer,
        min:0.01,
        max: 10,
        step:0.2,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
            }
            if (flag == 2) {
                 drawhlfrectifier();
            }
      if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }
    });
    //-----------------------knob of amplitude1(vmax/div)-------------------------------//
    $("#amp-knob1").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        // cursor: pointer,
       min: 0.05,
        max: 10,
        step: 0.01,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
            }
            if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }
    });
    //-----------------------knob of amplitude2(vmax/div)-------------------------------//
    $("#amp-knob2").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        // cursor: pointer,
        min: 0.05,
        max: 10,
        step: 0.01,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
           
            if (flag == 2) {
                 drawhlfrectifier();
            }

           if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }

    });
//------------------------------knob of frequency(hz)----------------------//
    $("#fq-knob-fng").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        //cursor: pointer,
        min: 100,
        max: 6000,
        step: 100,
		angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
				
            }
            if (flag == 2) {
                  drawhlfrectifier();
            }

          if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
	
	
		
	
        }

    });
    //-----------------------knob of amplitude1(volt)-------------------------------//
    $("#amp-knob-fng").knob({
        readOnly: false,
        fgColor: '#1F1D1D', //'#999999',
        bgColor: '#bbd0f7', //'#dcdcdc',
        width: 100,
        height: 80,
        // cursor: pointer,
        min: 1,
        max: 20,
        step: 0.1,
        angleOffset: -125,
        angleArc: 250,
        'change': function (v) {
            if (flag == 1) {
                drawsine();
            }
            if (flag == 2) {
                  drawhlfrectifier();
            }
           if(flag==3){
        bthdhlfrc();
    }
    if(flag==4){
       grndhlfrc();
    }
        }

    });
});


var tabrowindex = 0;
var arr = [];
var table;

var chart;
var dataPoints = [];
// var showAlert;
//------------------------------------------------- Table Creation -----------------------------------------------//
function tabled() {

//document.getElementById('tr1').style.display="block";
    arr[0] = tabrowindex + 1;
	arr[1]= document.getElementById('ζ').value;
    arr[2] = document.getElementById("fq-knob-fng").value;
	
	var xl = 2*3.1415*arr[2]*0.1;
	var xc = 1/(2*3.1415*arr[2]*0.1*(1/1000000));
	var r  = 100;
	var r2  = Math.pow(r,2);
	var diff = (xl-xc);
	var diff2= Math.pow(diff,2);
	var z = Math.sqrt(r2+diff2);
	var v = document.getElementById("amp-knob-fng").value;
	var I = v/z;
		
    arr[3] = I*r;
    arr[4] = I*xl;
	arr[5] = I*xc;
	
	var L= document.getElementById('L').value;
	var C= document.getElementById('C').value/1000000;
	var w= 2*3.1415*arr[2];
	var w2= Math.pow(w,2);
	var d1 = (1-(w2*L*C));
	var d12= Math.pow(d1,2);
	var zeta = document.getElementById('zeta').value;
	var zeta2= Math.pow(zeta,2);
	var d2= (4*zeta2*w2*L*C);
	var TD= Math.sqrt(d12+d2);
	var gain= 1/TD;
	
	arr[6]= 20 * ( Math.log10(gain));
	var sqlc= Math.sqrt(L*C);
	var pn=2*zeta*w* sqlc;
	var pd=d1;
	arr[7]= - (Math.atan2(pn,pd)*(180/(Math.PI)));	
	
	
table = document.getElementById("myTable");
        
        var row = table.insertRow(++tabrowindex);
   
    if (table.rows.length <= 35) {
        
         // Row increment
        for (var q = 0; q < 8; q++) {

            var cell = row.insertCell(q);
            cell.innerHTML = arr[q];

    }

    }

}   










 

<!-------graph for frequency response --->
function plot() {
dataPoints = [];
document.getElementById('chartContainer').style.display ="block";
document.getElementById('chartContainer2').style.display="none";
table= document.getElementById('myTable');
    for (var tabrowindex = 1; tabrowindex < table.rows.length; tabrowindex++) {
        var rwe1 = table.rows[tabrowindex].cells;

        dataPoints.push({x: parseFloat(rwe1[2].innerHTML), y: parseFloat(rwe1[6].innerHTML)});
    }

    chart = new CanvasJS.Chart("chartContainer", {
        theme: "theme1", 
        title: {
            text: "Frequency Response Plot ",
			fontColor:"#086176",
		    fontSize: 15,
        },
        
        legend: {
            verticalAlign: "bottom",
            horizontalAlign: "center",
        },
        axisX: {
            logarithmic: true, 
		title: "Frequency(Hz)",
		titleFontColor: "black",		
		gridColor:"black",
		gridThickness: 2,
		lineThickness: 1,
		//maximum:100500,
        },
        axisY: {
            title: "Gain(dB)",
        },
        data: [
            {
                type: "line",
				color: "#0DB0AE",
                dataPoints: dataPoints
            }
        ]
		
    });

    chart.render();
	

    

}
<!-------graph for phase response plot --->
function plot2() {
dataPoints = [];
document.getElementById('chartContainer').style.display ="none";
document.getElementById('chartContainer2').style.display ="block";
table= document.getElementById('myTable');
    for (var tabrowindex = 1; tabrowindex < table.rows.length; tabrowindex++) {
        var rwe1 = table.rows[tabrowindex].cells;

        dataPoints.push({x: parseFloat(rwe1[2].innerHTML), y: parseFloat(rwe1[7].innerHTML)});
    }

    chart = new CanvasJS.Chart("chartContainer2", {
        theme: "theme1", 
        title: {
            text: "Phase Response Plot ",
			fontColor:"#086176",
		    fontSize: 15,
        },
        
        legend: {
            verticalAlign: "bottom",
            horizontalAlign: "center",
        },
        axisX: {
            logarithmic: true, 
		title: "Frequency(Hz)",
		titleFontColor: "black",		
		gridColor:"black",
		gridThickness: 2,
		lineThickness: 1,
		//maximum:100500,
        },
        axisY: {
            title: "Phase(degree)",
        },
        data: [
            {
                type: "line",
				color:"#CA075C",
                dataPoints: dataPoints
            }
        ]
		
    });

    chart.render();
	

    

}
















<!---hide plots and tables-->
function vanish(){
var Dtable= document.getElementById('myTable');
var Trow = Dtable.rows.length;
for (var i= Trow-1;i>0;i--){

Dtable.deleteRow(i);
}


tabrowindex=0;

dataPoints = [];
document.getElementById('chartContainer').style.display="none";
document.getElementById('chartContainer2').style.display="none";
document.getElementById('fq-knob-fng').value="100";
document.getElementById('fq-knob').value="1";
//if(document.getElementById('onff').value=="off"){

//}


}


 
 
 
 
 
 
 
 
 
 
 
 
 </script> 
  
</body>
</html>  
  
  
  
  
  
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
